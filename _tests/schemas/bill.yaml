$schema: 'http://json-schema.org/schema#'
type: object
properties:
  actions:
    type: array
    items:
      type: object
      oneOf:
      - properties: &_default_action_properties
          date:
            type: string
            format: date
        required:
        - date
      - properties:
          <<: *_default_action_properties
          action: submit
          by:
            type: array
            items:
              type: object
              properties:
                name:
                  type: string
                note:
                  type: string
              required:
              - name
        required:
        - date
        - action
        - by
      - properties:
          <<: *_default_action_properties
          action: refer
          to:
            type: array
            items: &_lang_field
              type: object
              properties:
                el:
                  type: string
                en:
                  type: string
              required:
              - el
              - en
        required:
        - date
        - action
        - to
      - properties:
          <<: *_default_action_properties
          action: resubmit
        required:
        - date
        - action
      - properties:
          <<: *_default_action_properties
          action: postpone
          what:
            type: string
            enum:
            - second reading
            - third reading
        required:
        - date
        - action
        - what
      - properties:
          <<: *_default_action_properties
          action: vote
          type:
            type: str
          breakdown:
            type: array
            items:
              type: object
              properties:
                name:
                  type: string
                option:
                  type: string
                  enum:
                  - yes
                  - no
                  - abstain
                required:
                - name
                - option
          counts:
            type: array
            items:
              type: object
              properties:
                count:
                  type: integer
                option:
                  type: string
                  enum:
                  - yes
                  - no
                  - abstain
                required:
                - name
                - option
              maxItems: 3
              uniqueItems: true
          remarks:
            type: string
          result:
            type: string
            enum:
            - pass
            - fail
        required:
        - date
        - action
        - type
        - result
      - properties:
          <<: *_default_action_properties
          action: other
          description: *_lang_field
        required:
        - date
        - action
        - description
    required: true
  explanatory_note:
    type: object
    properties:
      authors:
        type: array
        items:
          type: object
          properties:
            name:
              type: string
            note:
              type: string
          required:
          - name
      in:
        type: object
        properties:
          issue:
            type: integer
          pages:
            type:
            - string
            - integer
            pattern: ^\d+(â€“\d+)?$
        required:
        - issue
        - pages
      text:
        type: string
    required:
    - authors
    - in
    - text
  identifier:
    type: string
  law:
    type: string
  sources:
    type: array
    items:
      type: object
      properties:
        id:
          type:
          - string
          - 'null'
        text:
          type: string
      required:
      - text
  title:
    type: string
  status:
    type: string
    enum:
    - pass
    - fail
    - withdrawn
    - pending
  summary:
    type: string
required:
- identifier
- title
